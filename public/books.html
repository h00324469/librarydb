<html>
    <head>
        <title>
            Books
        </title>
    </head>
    <body>
        <div id="countBooks" class="container" style="text-align:center"></div>
		<br>
		<br>
        <div id="divBooks" class="container" style="text-align:center"></div>
        <script>
            function responseHandling()
            {
                //Used for debugging
                console.log(this.responseText);

                //Convert responseText to a JS object
                let jsonArray = JSON.parse(this.responseText);

                //Read books from the webpage.
                let divItems = document.getElementById("divBooks");
                let countItems = document.getElementById("countBooks");

                //Write the books count into countBooks div.
                countItems.innerHTML = "We have found " + jsonArray.length + " books."	;

                let counter = 0;

                for (let book of jsonArray)
                {
                    let p = document.createElement("p");
                    let bookString = "Book Name: " + book.Book_Name + " - Author: " + book.Author + " - Year Published: " + book.Year_Published
					 + " - Publisher: " + book.Published_By + " - Category: " + book.Category;
                    let pText = document.createTextNode(bookString);
                    p.appendChild(pText);

                    //Add the p to the itemDiv
                    divBooks.appendChild(p);
                }
            }

            let httpRequest = new XMLHttpRequest();
            httpRequest.addEventListener("load", responseHandling);
            httpRequest.open("GET", "http://librarydb.eu-4.evennode.com/");
            httpRequest.send();
			
        </script>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
		 <div align="center">
            <a href="addbook.html">Add a new book</a>
            <br />
            <a href="updatebook.html">Update an book</a>
            <br />
            <a href="deletebook.html">Delete an book</a> 
        </div>
    </body>
</html>